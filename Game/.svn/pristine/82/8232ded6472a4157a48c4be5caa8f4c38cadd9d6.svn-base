#ifndef ENTITY_H
#define ENTITY_H

#include <SFML\Graphics.hpp> 
#include <assert.h>
#include "..\Utils\VectorUtils.h"
#include "..\Utils\Utils.h"
#include "..\Map\TiledMap.h"

class Entity
	: public sf::Drawable, public sf::Transformable
{
public:
	Entity();
	Entity(sf::PrimitiveType, int vertexCount);
	void setVertexLocalPosition(int, sf::Vector2f);
	void setVertexColour(int, sf::Color);
	void setVertexTextureCoords(int, sf::Vector2f);
	void setTexture(sf::Texture*);
	void setMap(TiledMap*);
	void resizeArray(int);
	void setPrimitiveType(sf::PrimitiveType);
	void setAlive(const bool);
	int getVertexCount() const;
	sf::Vector2f getVertexGlobalPosition(int) const;
	sf::Vector2f getNormal(int, int) const;
	sf::FloatRect getLocalBounds() const;
	sf::FloatRect getGlobalBounds() const;

	sf::FloatRect getCollider() const { return collider_; }
	bool getAlive() const { return alive; }
	
private:
	virtual void draw(sf::RenderTarget&, sf::RenderStates) const;
private:
	sf::VertexArray vertices_;
	sf::Texture* texture_;
	float alive;
protected : 
	TiledMap* p_tileMap_; 
	sf::FloatRect collider_;

};
#endif